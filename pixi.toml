[workspace]
authors = ["ousttrue <ousttrue@gmail.com>"]
channels = ["conda-forge"]
name = "qt_sample"
platforms = ["win-64"]
version = "0.1.0"

[dependencies]
qt6-main = ">=6.10.1,<7"
qt6-quick3d = ">=6.10.1,<7"
qt6-3d = ">=6.10.1,<7"
cxx-compiler = ">=1.9.0, <2"
ninja = ">=1.12.1,<2"
cmake = ">=3.22.0"

[tasks.configure]
# Commands as lists so you can also add documentation in between.
cmd = [
  "cmake",
  # Use the cross-platform Ninja generator
  "-G",
  "Ninja",
  # The source is in the root directory
  "-S",
  "src",
  # We wanna build in the .build directory
  "-B",
  "build",
]
inputs = ["src/**/CMakeLists.txt"]
outputs = ["build/CMakeFiles/"]

[tasks.build]
cmd = ["cmake", "--build", "build"]
depends-on = ["configure"]
inputs = ["src/*"]
outputs = ["build/hellocube.exe"]

[tasks.run_hello]
args = ["qml"]
cmd = ["build/helloworld.exe", "{{ qml }}"]
depends-on = ["build"]

[tasks.run_cube]
cmd = ["build/hellocube.exe"]
depends-on = ["build"]

